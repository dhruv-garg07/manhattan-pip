[
  {
    "file_path": "c:\\Desktop\\python_workspace_311\\PdM-main\\PdM-main\\manhattan-pip\\manhattan-mcp\\src\\manhattan_mcp\\config.py",
    "file_name": "config.py",
    "compact_skeleton": "{\"tree\": {\"id\": \"f3a41fe9\", \"type\": \"start\", \"content\": \"File: config.py\", \"line\": 1, \"scope\": [], \"children\": [{\"id\": \"84d1e931\", \"type\": \"processing\", \"content\": \"Code unit: block\", \"line\": 1, \"scope\": [], \"children\": []}, {\"id\": \"e6a4cf3c\", \"type\": \"processing\", \"content\": \"Code unit: Config\", \"line\": 25, \"scope\": [], \"children\": []}, {\"id\": \"fad79f8d\", \"type\": \"processing\", \"content\": \"Code unit: Config.[__init__, _load_from_env, api_key, api_url, timeout, defa...]\", \"line\": 26, \"scope\": [], \"children\": []}, {\"id\": \"70155852\", \"type\": \"processing\", \"content\": \"Code unit: get_config\", \"line\": 104, \"scope\": [], \"children\": []}, {\"id\": \"6040ec19\", \"type\": \"end\", \"content\": \"End of File\", \"line\": 117, \"scope\": [], \"children\": []}]}, \"index\": {\"block\": [\"84d1e931\"], \"Config\": [\"e6a4cf3c\"], \", \": [\"fad79f8d\"], \"_load_from_env\": [\"e6a4cf3c\", \"fad79f8d\"], \"Config.[__init__, _load_from_env, api_key, api_url, timeout, defa...]\": [\"fad79f8d\"], \"[__init__, _load_from_env, api_key, api_url, timeout, defa\": [\"fad79f8d\"], \"api\": [\"fad79f8d\"], \"optional\": [\"84d1e931\"], \"dotenv\": [\"84d1e931\"], \"code\": [\"84d1e931\", \"e6a4cf3c\", \"fad79f8d\", \"70155852\"], \"class\": [\"e6a4cf3c\"], \"config\": [\"e6a4cf3c\", \"fad79f8d\", \"70155852\"], \"defa\": [\"fad79f8d\"], \"config.[\": [\"fad79f8d\"], \"load_dotenv\": [\"84d1e931\"], \"importerror\": [\"84d1e931\"], \"environment\": [\"e6a4cf3c\", \"fad79f8d\"], \"env\": [\"fad79f8d\"], \"env, api\": [\"fad79f8d\"], \"getenv\": [\"e6a4cf3c\", \"fad79f8d\"], \"from\": [\"fad79f8d\"], \"get\": [\"70155852\"], \"function\": [\"70155852\"], \"get_config\": [\"70155852\"], \"key\": [\"fad79f8d\"], \"init\": [\"fad79f8d\"], \"key, api\": [\"fad79f8d\"], \"load\": [\"fad79f8d\"], \"mixed\": [\"84d1e931\"], \"method\": [\"fad79f8d\"], \"typing\": [\"84d1e931\"], \"os\": [\"84d1e931\", \"e6a4cf3c\", \"fad79f8d\"], \"sys\": [\"84d1e931\"], \"property\": [\"e6a4cf3c\", \"fad79f8d\"], \"timeout\": [\"fad79f8d\"], \"valueerror\": [\"e6a4cf3c\", \"fad79f8d\"], \"url, timeout, defa...]\": [\"fad79f8d\"], \"url\": [\"fad79f8d\"]}}",
    "chunks": [
      {
        "hash_id": "bf1a4b3c2c0a8951c4ee182853ba0fe2b0fc91833bac333333a220554baca30e",
        "content": "\"\"\"\nConfiguration module for Manhattan MCP.\n\nHandles environment variable loading and validation.\n\"\"\"\n\nimport os\nimport sys\nfrom typing import Optional\n\n# Try to load dotenv if available\ntry:\n    from dotenv import load_dotenv\n    load_dotenv()\nexcept ImportError:\n    pass\n\n\n# Default configuration\nDEFAULT_API_URL = \"https://www.themanhattanproject.ai\"\nDEFAULT_TIMEOUT = 120.0\nDEFAULT_AGENT_ID = \"84aab1f8-3ea9-4c6a-aa3c-cd8eaa274a5e\"",
        "type": "mixed",
        "name": "block",
        "start_line": 1,
        "end_line": 22,
        "language": "python",
        "embedding_id": "bf1a4b3c2c0a8951c4ee182853ba0fe2b0fc91833bac333333a220554baca30e",
        "token_count": 109,
        "keywords": [
          "block",
          "optional",
          "typing",
          "dotenv",
          "code",
          "load_dotenv",
          "mixed",
          "importerror",
          "os",
          "sys"
        ],
        "summary": "Code unit: block"
      },
      {
        "hash_id": "b39215406baa6f5e3756c518514df3bd5bdfb88d90fc97fb5e6b9c8dc8bd791a",
        "content": "class Config:\n    \"\"\"Configuration class for Manhattan MCP.\"\"\"\n    \n    def __init__(self):\n        self._api_key: Optional[str] = None\n        self._api_url: str = DEFAULT_API_URL\n        self._timeout: float = DEFAULT_TIMEOUT\n        self._default_agent_id: str = DEFAULT_AGENT_ID\n        self._load_from_env()\n    \n    def _load_from_env(self):\n        \"\"\"Load configuration from environment variables.\"\"\"\n        self._api_key = os.getenv(\"MANHATTAN_API_KEY\")\n        self._api_url = os.getenv(\"MANHATTAN_API_URL\", DEFAULT_API_URL)\n        \n        timeout_str = os.getenv(\"MANHATTAN_TIMEOUT\")\n        if timeout_str:\n            try:\n                self._timeout = float(timeout_str)\n            except ValueError:\n                pass\n        \n        agent_id = os.getenv(\"MANHATTAN_AGENT_ID\")\n        if agent_id:\n            self._default_agent_id = agent_id\n    \n    @property\n    def api_key(self) -> Optional[str]:\n        \"\"\"Get the API key.\"\"\"\n        return self._api_key\n    \n    @property\n    def api_url(self) -> str:\n        \"\"\"Get the API URL.\"\"\"\n        return self._api_url\n    \n    @property\n    def timeout(self) -> float:\n        \"\"\"Get the request timeout.\"\"\"\n        return self._timeout\n    \n    @property\n    def default_agent_id(self) -> str:\n        \"\"\"Get the default agent ID.\"\"\"\n        return self._default_agent_id\n    \n    def set_api_key(self, api_key: str):\n        \"\"\"Set the API key programmatically.\"\"\"\n        self._api_key = api_key\n        \n    def set_api_url(self, api_url: str):\n        \"\"\"Set the API URL programmatically.\"\"\"\n        self._api_url = api_url\n    \n    def validate(self) -> bool:\n        \"\"\"\n        Validate the configuration.\n        \n        Returns:\n            True if configuration is valid\n            \n        Raises:\n            ValueError if configuration is invalid\n        \"\"\"\n        if not self._api_key:\n            print(\"=\" * 60, file=sys.stderr)\n            print(\"ERROR: MANHATTAN_API_KEY environment variable is not set!\", file=sys.stderr)\n            print(\"\", file=sys.stderr)\n            print(\"Please set your API key:\", file=sys.stderr)\n            print(\"  export MANHATTAN_API_KEY='your-api-key'\", file=sys.stderr)\n            print(\"\", file=sys.stderr)\n            print(\"Get your API key at: https://themanhattanproject.ai\", file=sys.stderr)\n            print(\"=\" * 60, file=sys.stderr)\n            raise ValueError(\"MANHATTAN_API_KEY is required\")\n        \n        return True",
        "type": "class",
        "name": "Config",
        "start_line": 25,
        "end_line": 100,
        "language": "python",
        "embedding_id": "b39215406baa6f5e3756c518514df3bd5bdfb88d90fc97fb5e6b9c8dc8bd791a",
        "token_count": 617,
        "keywords": [
          "Config",
          "class",
          "property",
          "environment",
          "_load_from_env",
          "config",
          "code",
          "valueerror",
          "getenv",
          "os"
        ],
        "summary": "Code unit: Config"
      },
      {
        "hash_id": "68a8fe701d7052687757ca591b8ed9c78ac506a723e11ee8e7649d43ad9f80a4",
        "content": "    \"\"\"Configuration class for Manhattan MCP.\"\"\"\n    \n    def __init__(self):\n        self._api_key: Optional[str] = None\n        self._api_url: str = DEFAULT_API_URL\n        self._timeout: float = DEFAULT_TIMEOUT\n        self._default_agent_id: str = DEFAULT_AGENT_ID\n        self._load_from_env()\n    \n    def _load_from_env(self):\n        \"\"\"Load configuration from environment variables.\"\"\"\n        self._api_key = os.getenv(\"MANHATTAN_API_KEY\")\n        self._api_url = os.getenv(\"MANHATTAN_API_URL\", DEFAULT_API_URL)\n        \n        timeout_str = os.getenv(\"MANHATTAN_TIMEOUT\")\n        if timeout_str:\n            try:\n                self._timeout = float(timeout_str)\n            except ValueError:\n                pass\n        \n        agent_id = os.getenv(\"MANHATTAN_AGENT_ID\")\n        if agent_id:\n            self._default_agent_id = agent_id\n    \n    @property\n    def api_key(self) -> Optional[str]:\n        \"\"\"Get the API key.\"\"\"\n        return self._api_key\n    \n    @property\n    def api_url(self) -> str:\n        \"\"\"Get the API URL.\"\"\"\n        return self._api_url\n    \n    @property\n    def timeout(self) -> float:\n        \"\"\"Get the request timeout.\"\"\"\n        return self._timeout\n    \n    @property\n    def default_agent_id(self) -> str:\n        \"\"\"Get the default agent ID.\"\"\"\n        return self._default_agent_id\n    \n    def set_api_key(self, api_key: str):\n        \"\"\"Set the API key programmatically.\"\"\"\n        self._api_key = api_key\n        \n    def set_api_url(self, api_url: str):\n        \"\"\"Set the API URL programmatically.\"\"\"\n        self._api_url = api_url\n    \n    def validate(self) -> bool:\n        \"\"\"\n        Validate the configuration.\n        \n        Returns:\n            True if configuration is valid\n            \n        Raises:\n            ValueError if configuration is invalid\n        \"\"\"\n        if not self._api_key:\n            print(\"=\" * 60, file=sys.stderr)\n            print(\"ERROR: MANHATTAN_API_KEY environment variable is not set!\", file=sys.stderr)\n            print(\"\", file=sys.stderr)\n            print(\"Please set your API key:\", file=sys.stderr)\n            print(\"  export MANHATTAN_API_KEY='your-api-key'\", file=sys.stderr)\n            print(\"\", file=sys.stderr)\n            print(\"Get your API key at: https://themanhattanproject.ai\", file=sys.stderr)\n            print(\"=\" * 60, file=sys.stderr)\n            raise ValueError(\"MANHATTAN_API_KEY is required\")\n        \n        return True",
        "type": "method",
        "name": "Config.[__init__, _load_from_env, api_key, api_url, timeout, defa...]",
        "start_line": 26,
        "end_line": 100,
        "language": "python",
        "embedding_id": "68a8fe701d7052687757ca591b8ed9c78ac506a723e11ee8e7649d43ad9f80a4",
        "token_count": 614,
        "keywords": [
          "environment",
          "config",
          "env",
          "code",
          "valueerror",
          "method",
          "key",
          "getenv",
          "api",
          "from",
          "key, api",
          "env, api",
          "os",
          "defa",
          "url, timeout, defa...]",
          "_load_from_env",
          ", ",
          "Config.[__init__, _load_from_env, api_key, api_url, timeout, defa...]",
          "timeout",
          "property",
          "init",
          "load",
          "[__init__, _load_from_env, api_key, api_url, timeout, defa",
          "url",
          "config.["
        ],
        "summary": "Code unit: Config.[__init__, _load_from_env, api_key, api_url, timeout, defa...]"
      },
      {
        "hash_id": "6dac79ad014570856c34524558f3beb694204db81dc3d65614e043503e4ea984",
        "content": "_config: Optional[Config] = None\n\n\ndef get_config() -> Config:\n    \"\"\"\n    Get the global configuration instance.\n    \n    Returns:\n        Config instance with loaded settings\n    \"\"\"\n    global _config\n    if _config is None:\n        _config = Config()\n    return _config",
        "type": "function",
        "name": "get_config",
        "start_line": 104,
        "end_line": 117,
        "language": "python",
        "embedding_id": "6dac79ad014570856c34524558f3beb694204db81dc3d65614e043503e4ea984",
        "token_count": 68,
        "keywords": [
          "get",
          "config",
          "code",
          "function",
          "get_config"
        ],
        "summary": "Code unit: get_config"
      }
    ],
    "language": "python",
    "agent_id": "test_agent",
    "session_id": "",
    "last_accessed_at": "2026-02-21T23:15:38.948819",
    "token_estimate": 1408,
    "file_modified_at": "2026-02-21T23:15:38.948819",
    "content_hash": "73ab6ae476e848bfa83c89a76409226008bee73c4fe4b8c97f54c5aadbc55924",
    "id": "14d98309-0545-4aca-b9ff-9cfdf0fba46a",
    "created_at": "2026-02-21T23:15:38.948819",
    "access_count": 1
  }
]